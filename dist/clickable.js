'use strict';

var ClickableCautions = function ClickableCautions(constructed) {
  var i = this.formatConstructed(constructed);
  i.warn = this.warn.bind(i);
  i.warn();
  return i;
};
ClickableCautions.prototype = {
  formatConstructed: function formatConstructed(constructed) {
    var i = constructed || {};
    i.warnings = i.warnings || [];
    if (constructed === undefined) {
      i.warnings.push('needs a valid clickable constructor to do anything');
      this.warn.call(i);
      return i;
    }
    return i;
  },
  warn: function warn() {
    for (var j = 0; j < this.warnings.length; j++) {
      console.warn(this.warnings[j]);
    }
  }
};
'use strict';

var ClickableConstructor = function ClickableConstructor(args) {
  var auto = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];

  var defaults = {
    wrapper: '.js-clickable-interaction',
    content: '.js-clickable-content-area',
    indicators: '.js-clickable-content-indicator',
    navigation: {
      targets: '.js-clickable-target',
      prev: '.js-clickable-prev',
      next: '.js-clickable-next'
    },
    meta: {
      clear: '.js-clickable-clear',
      start: '.js-clickable-start'
    },
    infinite: true,
    toggle: false
  };
  this.constructed = new ClickableCautions(defaults);
  this.constructed = this.mergeArgs(this.constructed, args);
  this.constructed = this.setDefaults(this.constructed);
  if (auto) {
    this.constructed = this.init(this.constructed);
    this.constructed.total = this.constructed.contentAreas.length || 0;
  }
  return this.constructed;
};
ClickableConstructor.prototype = {
  mergeArgs: function mergeArgs(defaults, override) {
    var i = {};
    for (var attr in defaults) {
      i[attr] = defaults[attr];
    }
    for (var attr in override) {
      if (defaults[attr] !== undefined) {
        i[attr] = override[attr];
      }
    }
    return i;
  },
  setDefaults: function setDefaults(constructed) {
    var i = constructed;
    i._index = 0;
    Object.defineProperty(i, 'index', {
      configurable: true,
      get: function get() {
        return i._index;
      },
      set: function set(val) {
        return i._index = val;
      }
    });
    Object.defineProperty(i, 'printIndex', {
      configurable: true,
      get: function get() {
        return this._index;
      }
    });
    i._total = 0;
    Object.defineProperty(i, 'total', {
      configurable: true,
      get: function get() {
        return i._total;
      },
      set: function set(val) {
        return i._total = val;
      }
    });
    i.get = this.getDepth;
    return i;
  },
  init: function init(constructed) {
    var i = constructed;
    i = this.setupWrapper(i);
    i = this.setupContent(i);
    i = this.setupNavigation(i);
    i = this.setupIndicators(i);
    i = this.setupMetaControls(i);
    i = this.setOnClicks(i);
    return i;
  },
  setupWrapper: function setupWrapper(i) {
    i.interaction = $(i.wrapper);
    return i;
  },
  setupContent: function setupContent(i) {
    i.contentAreas = this.findInInteraction(i, i.content);
    return i;
  },
  setupIndicators: function setupIndicators(i) {
    var contentCount, indicatorCount;
    i.indicators = this.findInInteraction(i, i.indicators);

    contentCount = i.contentAreas.length || 0;
    indicatorCount = i.indicators.length || 0;

    if (contentCount + indicatorCount < 1) {
      i.warnings.push('no content found');
    }
    i.warn();
    return i;
  },
  setupNavigation: function setupNavigation(i) {
    var prevCount, nextCount, targetCount;
    i.navigation.targets = this.findInInteraction(i, i.navigation.targets);
    i.navigation.prev = this.findInInteraction(i, i.navigation.prev);
    i.navigation.next = this.findInInteraction(i, i.navigation.next);

    prevCount = i.navigation.prev.length || 0;
    nextCount = i.navigation.next.length || 0;
    targetCount = i.navigation.targets.length || 0;

    if (prevCount + nextCount + targetCount < 1) {
      i.warnings.push('no navigation found');
    }
    i.warn();
    return i;
  },
  setOnClicks: function setOnClicks(i) {
    for (var nav in i.navigation) {
      if (i.navigation[nav] !== false) {
        i.navigation[nav].preclick = [];
      }
    }
    return i;
  },
  setupMetaControls: function setupMetaControls(i) {
    i.navigation.clear = this.findInInteraction(i, i.meta.clear);
    i.navigation.start = this.findInInteraction(i, i.meta.start);
    return i;
  },
  findInInteraction: function findInInteraction(i, selector) {
    if ($(i.interaction).find(selector).length > 0) {
      return $(i.interaction).find(selector);
    }
    return false;
  },
  getDepth: function getDepth(c, s) {
    var collection = this[c];
    if (s !== undefined) {
      collection = collection[s];
    }
    return collection;
  }
};
'use strict';

var ClickableController = function ClickableController(constructor) {
  this.constructed = new ClickableCautions(constructor);
  this.extend.call(this.constructed, this);
  this.constructed.init(this.constructed);
  return this.constructed;
};
ClickableController.prototype = {
  extend: function extend(obj) {
    for (var attr in obj) {
      if (obj.hasOwnProperty(attr) === false) {
        this[attr] = obj[attr];
      }
    }
  },
  init: function init() {
    this.navigation.type = 'initial';
    this.setupEvents();
    this.startScreen();
    return this;
  },
  startScreen: function startScreen() {
    if (this.navigation.start) {
      return;
    }
    this.goTo(0);
    return this;
  },
  goTo: function goTo(index) {
    this.index = index;
    this.makeAllInactive();
    this.makeActive();
  },
  prev: function prev() {
    this.decrementIndex();
    this.makeAllInactive();
    this.makeActive();
  },
  next: function next() {
    this.incrementIndex();
    this.makeAllInactive();
    this.makeActive();
  },
  reset: function reset() {
    this.makeAllInactive();
    this.clearNavigationType();
  },
  decrementIndex: function decrementIndex() {

    if (this.index > 0) {
      this.index--;
    } else if (this.infinite) {
      this.index = this.total - 1;
    }
  },
  incrementIndex: function incrementIndex() {
    if (this.index < this.total - 1) {
      this.index++;
    } else if (this.infinite) {
      this.index = 0;
    }
  },
  setupEvents: function setupEvents(i) {
    var self = this;
    $(this.get('navigation', 'prev')).click(function (e) {
      e.preventDefault();
      self.callPreclickFuncs('prev');
      self.prev();
      self.setNavigationType('linear');
    });
    $(this.get('navigation', 'next')).click(function (e) {
      e.preventDefault();
      self.callPreclickFuncs('next');
      self.next();
      self.setNavigationType('linear');
    });
    $(this.get('navigation', 'clear')).click(function (e) {
      e.preventDefault();
      self.callPreclickFuncs('clear');
      self.reset();
      self.setNavigationType('initial');
    });
    $(this.get('navigation', 'start')).click(function (e) {
      e.preventDefault();
      self.callPreclickFuncs('start');
      self.goTo(0);
      self.setNavigationType('linear');
    });
    $(this.get('navigation', 'targets')).click(function (e) {
      e.preventDefault();
      self.callPreclickFuncs('targets');
      self.goTo(self.get('navigation', 'targets').index(this));
      self.setNavigationType('targetted');
    });
    return i;
  },
  callPreclickFuncs: function callPreclickFuncs(navType) {
    var buffer = this.get('navigation', navType).preclick;
    for (var func in buffer) {
      buffer[func]();
    }
  },
  setNavigationType: function setNavigationType(type) {
    this.clearNavigationType();
    this.navigation.type = type;
    this.addClassSVG(this.interaction, this.navigation.type);
    if (type !== 'start') {
      this.addClassSVG(this.interaction, 'navigated');
    }
  },
  clearNavigationType: function clearNavigationType() {
    this.removeClassSVG(this.interaction, this.navigation.type);
    this.removeClassSVG(this.interaction, 'navigated');
  },
  makeActive: function makeActive() {
    var index = this.index,
        areas = this.get('contentAreas'),
        indicators = this.get('indicators'),
        count1 = areas.length || 0,
        count2 = indicators.length || 0;

    if (!this.isToggle || areas.active !== index) {
      this.addInteractionActiveClass();
      if (areas.length > 0) {
        this.addClassSVG(areas[index], 'active');
        areas.active = index;
      }
      if (indicators.length > 0) {
        this.removeClassSVG(indicators[index], 'visited');
        this.addClassSVG(indicators[index], 'active');
      }
      if (count1 + count2 < 1) {
        this.warnings.push('no content to activate');
        this.warn();
      }
      return;
    }
    areas.active = false;
  },
  makeAllInactive: function makeAllInactive() {
    var areas = this.get('contentAreas'),
        indicators = this.get('indicators');
    if (areas.length) {
      this.removeClassSVG(areas, 'active');
    }
    if (indicators.length) {
      this.makeIndicatorVisited();
      this.removeClassSVG(indicators, 'active');
    }
    this.removeInteractionActiveClass();
  },
  addInteractionActiveClass: function addInteractionActiveClass() {
    this.addClassSVG(this.interaction, 'active-' + this.printIndex);
  },
  removeInteractionActiveClass: function removeInteractionActiveClass() {
    for (var i = 0; i < this.total; i++) {
      this.removeClassSVG(this.interaction, 'active-' + this.printIndex);
    }
  },
  makeIndicatorVisited: function makeIndicatorVisited() {
    var self = this;
    $(this.get('indicators')).each(function () {
      if ($(this).attr('class').indexOf('active') > 0) {
        self.addClassSVG(this, 'visited');
      }
    });
  },
  addClassSVG: function addClassSVG(elem, newClass) {
    if (elem.length > 0) {
      this.addMultipleClasses(elem, newClass);
    } else {
      this.addSingularClass(elem, newClass);
    }
  },
  addSingularClass: function addSingularClass(elem, newClass) {
    if (elem === undefined) {
      return;
    }
    var tempClass = $(elem).attr('class');
    $(elem).attr('class', tempClass + ' ' + newClass);
  },
  addMultipleClasses: function addMultipleClasses(elems, newClass) {
    var tempClass;
    for (var i = 0; i < elems.length; i++) {
      tempClass = $(elems[i]).attr('class');
      $(elems[i]).attr('class', tempClass + ' ' + newClass);
    }
  },
  removeClassSVG: function removeClassSVG(elem, removedClass) {
    if (elem.length > 0) {
      this.removeMultipleClasses(elem, removedClass);
    } else {
      this.removeSingularClass(elem, removedClass);
    }
  },
  removeSingularClass: function removeSingularClass(elem, removedClass) {
    var tempClass = $(elem).attr('class');
    var newClass = tempClass.replace(' ' + removedClass, '');
    $(elem).attr('class', newClass);
  },
  removeMultipleClasses: function removeMultipleClasses(elems, removedClass) {
    var tempClass, newClass;
    for (var i = 0; i < elems.length; i++) {
      tempClass = $(elems[i]).attr('class');
      newClass = tempClass.replace(' ' + removedClass, '');
      $(elems[i]).attr('class', newClass);
    }
  }
};
'use strict';

var ClickableContext = function ClickableContext(constructed) {
  this.constructed = new ClickableCautions(constructed);
  this.constructed = this.init(this.constructed);
  if (this.constructed.context) {
    this.constructed = this.sortCollections(this.constructed);
    this.constructed = this.overrideDefaults(this.constructed);
  }

  return this.constructed;
};

ClickableContext.prototype = {
  init: function init(i) {
    i = this.setInitialData(i);
    i = this.setTotalData(i);
    i = this.setIndexData(i);
    return i;
  },
  overrideDefaults: function overrideDefaults(i) {
    Object.defineProperty(i, 'index', {
      get: function get() {
        return this._index[this.context];
      },
      set: function set(val) {
        return this._index[this.context] = val;
      }
    });
    Object.defineProperty(i, 'printIndex', {
      get: function get() {
        return this.context + '-' + this.index;
      }
    });
    Object.defineProperty(i, 'total', {
      get: function get() {
        return this._total[this.context];
      },
      set: function set(val) {
        return this._total[this.context] = val;
      }
    });
    i.get = this.getContextDepth;
    return i;
  },
  setInitialData: function setInitialdata(i) {
    i.context = false;
    return i;
  },
  findContextCount: function findContextCount(el) {
    var indices = {},
        self = this;
    $(el).each(function () {
      var c = $(this).data('context');
      indices = self.addToOrInit(indices, c);
    });
    return indices;
  },
  setTotalData: function setTotalData(i) {
    var contexts = this.findContextCount(i.contentAreas);
    for (var context in contexts) {
      if (context !== 'context_default') {
        i.context = 'context_default';
        i._total = contexts;
        return i;
      }
    }
    return i;
  },
  setIndexData: function setIndexData(i) {
    if (!i.context) {
      return i;
    }
    i._index = {};
    for (var context in i.total) {
      i._index[context] = 0;
    }
    return i;
  },
  addToOrInit: function addToOrInit(obj, prop) {
    var property = prop || 'default';
    var key = 'context_' + property;
    if (obj.hasOwnProperty(key)) {
      obj[key] += 1;
      return obj;
    }
    obj[key] = 0;
    return obj;
  },
  sortCollections: function sortCollections(i) {
    i.contentAreas = this.contextSort(i, 'contentAreas');
    i.indicators = this.contextSort(i, 'indicators');
    i.navigation.targets = this.contextSort(i, 'navigation', 'targets');
    i.navigation.prev = this.contextSort(i, 'navigation', 'prev');
    i.navigation.next = this.contextSort(i, 'navigation', 'next');
    this.warnAboutNavigation(i);
    return i;
  },
  contextSort: function contextSort(i, collection, sub) {
    var all = i.get(collection, sub),
        self = this,
        onclick;
    if (all) {
      onclick = all.preclick;
    }

    $(all).filter(function () {

      all = $(all).not($(this));
      return $(this);
    }).each(function () {

      var c = self.setContextKey($(this));
      if (all[c] === undefined) {
        all[c] = $();
      }
      all[c] = $(all[c]).add($(this));
    });
    if (onclick) {
      all.preclick = onclick;
      all.preclick.push(self.parseContext);
    }
    return all;
  },
  warnAboutNavigation: function warnAboutNavigation(i) {
    for (var key in i.index) {
      if (i.navigation.targets[key] === undefined && i.navigation.prev[key] === undefined && i.navigation.next[key] === undefined) {
        i.warnings.push('there is no navgation for the context ' + key);
      }
    }
    i.warn();
  },
  parseContext: function parseContext(el) {
    if (el !== undefined && $(el).data('context')) {
      this.context = 'context_' + $(el).data('context');
      return;
    }
    this.context = 'context_default';
  },
  getContextDepth: function getContextDepth(c, s) {
    var collection = this[c][this.context];
    if (this[c][this.context] === undefined) {
      collection = this[c];
      if (collection === false) {
        return;
      }
    }
    if (s !== undefined) {
      collection = collection[s];
    }
    return collection;
  },
  setContextKey: function setContextKey(el) {
    var ctx = el.data('context') || 'default';
    return 'context_' + ctx;
  }
};
'use strict';

(function (global, factory) {

	if (typeof module === 'object' && typeof module.exports === 'object') {
		module.exports = global.document ? factory(global, true) : function (w) {
			if (!w.document) {
				throw new Error('requires a window with a document');
			}
			return factory(w);
		};
	} else {
		factory(global);
	}

	// Pass this if window is not defined yet
})(typeof window !== 'undefined' ? window : undefined, function (window, noGlobal) {
	var Clickable = function Clickable(args) {
		var constructed = {};
		constructed = new ClickableConstructor(args);
		constructed = new ClickableContext(constructed);
		constructed = new ClickableController(constructed);
		return constructed;
	};
	if (typeof noGlobal === 'undefined') {
		window.Clickable = Clickable;
	}

	return Clickable;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNsaWNrYWJsZUNhdXRpb25zLmpzIiwiQ2xpY2thYmxlQ29uc3RydWN0b3IuanMiLCJDbGlja2FibGVDb250cm9sbGVyLmpzIiwiQ2xpY2thYmxlQ29udGV4dC5qcyIsIkNsaWNrYWJsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksaUJBQWlCLEdBQUcsU0FBcEIsaUJBQWlCLENBQWEsV0FBVyxFQUFFO0FBQzlDLE1BQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBRSxXQUFXLENBQUUsQ0FBQztBQUM1QyxHQUFDLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFFLENBQUMsQ0FBRSxDQUFDO0FBQzdCLEdBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNYLFNBQU8sQ0FBQyxDQUFDO0NBQ1QsQ0FBQztBQUNGLGlCQUFpQixDQUFDLFNBQVMsR0FBRztBQUM1QixtQkFBaUIsRUFBRSxTQUFTLGlCQUFpQixDQUFFLFdBQVcsRUFBRTtBQUMxRCxRQUFJLENBQUMsR0FBSSxXQUFXLElBQUksRUFBRSxDQUFDO0FBQ3ZCLEtBQUMsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLFFBQVEsSUFBSSxFQUFFLENBQUM7QUFDOUIsUUFBSSxXQUFXLEtBQUssU0FBUyxFQUFDO0FBQzVCLE9BQUMsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLG9EQUFvRCxDQUFDLENBQUM7QUFDdEUsVUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUUsQ0FBQyxDQUFFLENBQUM7QUFDcEIsYUFBTyxDQUFDLENBQUM7S0FDVjtBQUNELFdBQU8sQ0FBQyxDQUFDO0dBQ2Q7QUFDRCxNQUFJLEVBQUUsU0FBUyxJQUFJLEdBQUU7QUFDbkIsU0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzVDLGFBQU8sQ0FBQyxJQUFJLENB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RSxXQUFXLENBQUUsQ0FBQztBQUNyRCxTQUFPLFdBQVcsQ0FBQztFQUNwQixDQUFDO0FBQ0YsS0FBSyxPQUFPLFFBQVEsS0FBSyxXQUFXLEVBQUc7QUFDdEMsUUFBTSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7RUFDN0I7O0FBRUQsUUFBTyxTQUFTLENBQUM7Q0FFakIsQ0FBQyxDQUFFIiwiZmlsZSI6ImNsaWNrYWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDbGlja2FibGVDYXV0aW9ucyA9IGZ1bmN0aW9uKCBjb25zdHJ1Y3RlZCApe1xuXHR2YXIgaSA9IHRoaXMuZm9ybWF0Q29uc3RydWN0ZWQoIGNvbnN0cnVjdGVkICk7XG5cdFx0XHRpLndhcm4gPSB0aGlzLndhcm4uYmluZCggaSApO1xuXHRcdFx0aS53YXJuKCk7XG5cdHJldHVybiBpO1xufTtcbkNsaWNrYWJsZUNhdXRpb25zLnByb3RvdHlwZSA9IHtcbiAgZm9ybWF0Q29uc3RydWN0ZWQ6IGZ1bmN0aW9uIGZvcm1hdENvbnN0cnVjdGVkKCBjb25zdHJ1Y3RlZCApe1xuICAgIHZhciBpICA9IGNvbnN0cnVjdGVkIHx8IHt9O1xuICAgICAgICBpLndhcm5pbmdzID0gaS53YXJuaW5ncyB8fCBbXTtcbiAgICAgICAgaWYoIGNvbnN0cnVjdGVkID09PSB1bmRlZmluZWQpe1xuICAgICAgICAgIGkud2FybmluZ3MucHVzaCgnbmVlZHMgYSB2YWxpZCBjbGlja2FibGUgY29uc3RydWN0b3IgdG8gZG8gYW55dGhpbmcnKTtcbiAgICAgICAgICB0aGlzLndhcm4uY2FsbCggaSApO1xuICAgICAgICAgIHJldHVybiBpOyBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgfSwgIFxuICB3YXJuOiBmdW5jdGlvbiB3YXJuKCl7XG4gICAgZm9yKCBsZXQgaiA9IDA7IGo8IHRoaXMud2FybmluZ3MubGVuZ3RoOyBqKysgKXtcbiAgICAgIGNvbnNvbGUud2FybiggdGhpcy53YXJuaW5nc1tqXSApO1xuICAgIH1cbiAgfVxufTsiLCJ2YXIgQ2xpY2thYmxlQ29uc3RydWN0b3IgPSBmdW5jdGlvbiggYXJncywgYXV0bz10cnVlICl7XG4gIGxldCBkZWZhdWx0cyA9IHtcbiAgICB3cmFwcGVyOiAnLmpzLWNsaWNrYWJsZS1pbnRlcmFjdGlvbicsXG4gICAgY29udGVudDogJy5qcy1jbGlja2FibGUtY29udGVudC1hcmVhJyxcbiAgICBpbmRpY2F0b3JzOiAnLmpzLWNsaWNrYWJsZS1jb250ZW50LWluZGljYXRvcicsXG4gICAgbmF2aWdhdGlvbjoge1xuICAgICAgdGFyZ2V0czogJy5qcy1jbGlja2FibGUtdGFyZ2V0JyxcbiAgICAgIHByZXY6ICcuanMtY2xpY2thYmxlLXByZXYnLFxuICAgICAgbmV4dDogJy5qcy1jbGlja2FibGUtbmV4dCcsXG4gICAgfSxcbiAgICBtZXRhOiB7XG4gICAgICBjbGVhcjogJy5qcy1jbGlja2FibGUtY2xlYXInLFxuICAgICAgc3RhcnQ6ICcuanMtY2xpY2thYmxlLXN0YXJ0JyxcbiAgICB9LFxuICAgIGluZmluaXRlOiB0cnVlLFxuICAgIHRvZ2dsZTogZmFsc2VcbiAgfTsgIFxuICB0aGlzLmNvbnN0cnVjdGVkID0gbmV3IENsaWNrYWJsZUNhdXRpb25zKCBkZWZhdWx0cyApO1xuICB0aGlzLmNvbnN0cnVjdGVkID0gdGhpcy5tZXJnZUFyZ3MoIHRoaXMuY29uc3RydWN0ZWQsIGFyZ3MgKTtcbiAgdGhpcy5jb25zdHJ1Y3RlZCA9IHRoaXMuc2V0RGVmYXVsdHMoIHRoaXMuY29uc3RydWN0ZWQgKTtcbiAgaWYoIGF1dG8gKXtcbiAgICB0aGlzLmNvbnN0cnVjdGVkID0gdGhpcy5pbml0KCB0aGlzLmNvbnN0cnVjdGVkICk7XG4gICAgdGhpcy5jb25zdHJ1Y3RlZC50b3RhbCA9IHRoaXMuY29uc3RydWN0ZWQuY29udGVudEFyZWFzLmxlbmd0aCB8fCAwO1xuICB9XG4gIHJldHVybiB0aGlzLmNvbnN0cnVjdGVkO1xufTtcbkNsaWNrYWJsZUNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IHtcbiAgbWVyZ2VBcmdzOiBmdW5jdGlvbiBtZXJnZUFyZ3MoIGRlZmF1bHRzLCBvdmVycmlkZSApe1xuICAgIHZhciBpID0ge307XG4gICAgZm9yKCBsZXQgYXR0ciBpbiBkZWZhdWx0cyApe1xuICAgICAgaVsgYXR0ciBdID0gZGVmYXVsdHNbIGF0dHIgXTtcbiAgICB9XG4gICAgZm9yKCBsZXQgYXR0ciBpbiBvdmVycmlkZSApe1xuICAgICAgaWYoIGRlZmF1bHRzWyBhdHRyIF0gIT09IHVuZGVmaW5lZCApe1xuICAgICAgICBpWyBhdHRyIF0gPSBvdmVycmlkZVsgYXR0ciBdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaTtcbiAgfSxcbiAgc2V0RGVmYXVsdHM6IGZ1bmN0aW9uKCBjb25zdHJ1Y3RlZCApe1xuICAgIHZhciBpID0gY29uc3RydWN0ZWQ7XG4gICAgaS5faW5kZXggPSAwO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggaSwgJ2luZGV4Jywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gaS5faW5kZXg7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiggdmFsICl7XG4gICAgICAgIHJldHVybiBpLl9pbmRleCA9IHZhbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoIGksICdwcmludEluZGV4Jywge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLCAgICAgIFxuICAgICAgZ2V0OiBmdW5jdGlvbigpe1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXg7XG4gICAgICB9XG4gICAgfSk7ICAgICAgIFxuICAgIGkuX3RvdGFsID0gMDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoIGksICd0b3RhbCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgICAgICBcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIGkuX3RvdGFsO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24oIHZhbCApe1xuICAgICAgICByZXR1cm4gaS5fdG90YWwgPSB2YWw7XG4gICAgICB9XG4gICAgfSk7ICAgIFxuICAgIGkuZ2V0ID0gdGhpcy5nZXREZXB0aDsgICAgXG4gICAgcmV0dXJuIGk7ICAgIFxuICB9LFxuICBpbml0OiBmdW5jdGlvbiggY29uc3RydWN0ZWQgKXtcbiAgICB2YXIgaSA9IGNvbnN0cnVjdGVkO1xuICAgICAgICBpID0gdGhpcy5zZXR1cFdyYXBwZXIoIGkgKTtcbiAgICAgICAgaSA9IHRoaXMuc2V0dXBDb250ZW50KCBpICk7XG4gICAgICAgIGkgPSB0aGlzLnNldHVwTmF2aWdhdGlvbiggaSApO1xuICAgICAgICBpID0gdGhpcy5zZXR1cEluZGljYXRvcnMoIGkgKTtcbiAgICAgICAgaSA9IHRoaXMuc2V0dXBNZXRhQ29udHJvbHMoIGkgKTtcbiAgICAgICAgaSA9IHRoaXMuc2V0T25DbGlja3MoIGkgKTtcbiAgICAgICAgcmV0dXJuIGk7XG4gIH0sXG4gIHNldHVwV3JhcHBlcjogZnVuY3Rpb24oIGkgKXtcbiAgICBpLmludGVyYWN0aW9uID0gJCggaS53cmFwcGVyICk7XG4gICAgcmV0dXJuIGk7XG4gIH0sXG4gIHNldHVwQ29udGVudDogZnVuY3Rpb24oIGkgKXtcbiAgICBpLmNvbnRlbnRBcmVhcyA9IHRoaXMuZmluZEluSW50ZXJhY3Rpb24oIGksIGkuY29udGVudCApO1xuICAgIHJldHVybiBpO1xuICB9LFxuICBzZXR1cEluZGljYXRvcnM6IGZ1bmN0aW9uKCBpICl7XG4gICAgdmFyIGNvbnRlbnRDb3VudCwgaW5kaWNhdG9yQ291bnQ7XG4gICAgaS5pbmRpY2F0b3JzID0gdGhpcy5maW5kSW5JbnRlcmFjdGlvbiggaSwgaS5pbmRpY2F0b3JzICk7XG5cbiAgICBjb250ZW50Q291bnQgPSBpLmNvbnRlbnRBcmVhcy5sZW5ndGggfHwgMDtcbiAgICBpbmRpY2F0b3JDb3VudCA9IGkuaW5kaWNhdG9ycy5sZW5ndGggfHwgMDsgICAgXG5cbiAgICBpZiggY29udGVudENvdW50ICsgaW5kaWNhdG9yQ291bnQgPCAxKXtcbiAgICAgIGkud2FybmluZ3MucHVzaCgnbm8gY29udGVudCBmb3VuZCcpO1xuICAgIH1cbiAgICBpLndhcm4oKTtcbiAgICByZXR1cm4gaTsgXG4gIH0sXG4gIHNldHVwTmF2aWdhdGlvbjogZnVuY3Rpb24oIGkgKXtcbiAgICB2YXIgcHJldkNvdW50LCBuZXh0Q291bnQsIHRhcmdldENvdW50O1xuICAgIGkubmF2aWdhdGlvbi50YXJnZXRzPSB0aGlzLmZpbmRJbkludGVyYWN0aW9uKCBpLCBpLm5hdmlnYXRpb24udGFyZ2V0cyApO1xuICAgIGkubmF2aWdhdGlvbi5wcmV2ICAgPSB0aGlzLmZpbmRJbkludGVyYWN0aW9uKCBpLCBpLm5hdmlnYXRpb24ucHJldiApO1xuICAgIGkubmF2aWdhdGlvbi5uZXh0ICAgPSB0aGlzLmZpbmRJbkludGVyYWN0aW9uKCBpLCBpLm5hdmlnYXRpb24ubmV4dCApO1xuXG4gICAgcHJldkNvdW50ID0gaS5uYXZpZ2F0aW9uLnByZXYubGVuZ3RoIHx8IDA7XG4gICAgbmV4dENvdW50ID0gaS5uYXZpZ2F0aW9uLm5leHQubGVuZ3RoIHx8IDA7IFxuICAgIHRhcmdldENvdW50ID0gaS5uYXZpZ2F0aW9uLnRhcmdldHMubGVuZ3RoIHx8IDA7IFxuXG4gICAgaWYoIHByZXZDb3VudCArIG5leHRDb3VudCArIHRhcmdldENvdW50IDwgMSApe1xuICAgICAgaS53YXJuaW5ncy5wdXNoKCdubyBuYXZpZ2F0aW9uIGZvdW5kJyk7XG4gICAgfVxuICAgIGkud2FybigpO1xuICAgIHJldHVybiBpOyBcbiAgfSxcbiAgc2V0T25DbGlja3M6IGZ1bmN0aW9uKCBpICl7XG4gICAgZm9yKCB2YXIgbmF2IGluIGkubmF2aWdhdGlvbiApIHtcbiAgICAgIGlmKCBpLm5hdmlnYXRpb25bIG5hdiBdICE9PSBmYWxzZSApe1xuICAgICAgICBpLm5hdmlnYXRpb25bIG5hdiBdLnByZWNsaWNrID0gW107ICAgICAgICBcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH0sXG4gIHNldHVwTWV0YUNvbnRyb2xzOiBmdW5jdGlvbiggaSApe1xuICAgIGkubmF2aWdhdGlvbi5jbGVhciA9IHRoaXMuZmluZEluSW50ZXJhY3Rpb24oIGksIGkubWV0YS5jbGVhciApO1xuICAgIGkubmF2aWdhdGlvbi5zdGFydCA9IHRoaXMuZmluZEluSW50ZXJhY3Rpb24oIGksIGkubWV0YS5zdGFydCApO1xuICAgIHJldHVybiBpO1xuICB9LFxuICBmaW5kSW5JbnRlcmFjdGlvbjogZnVuY3Rpb24oIGksIHNlbGVjdG9yICl7XG4gICAgaWYoICQoIGkuaW50ZXJhY3Rpb24gKS5maW5kKCBzZWxlY3RvciApLmxlbmd0aCA+IDAgKXtcbiAgICAgIHJldHVybiAkKCBpLmludGVyYWN0aW9uICkuZmluZCggc2VsZWN0b3IgKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXREZXB0aDogZnVuY3Rpb24gZ2V0RGVwdGgoIGMsIHMgKXtcbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXNbIGMgXTsgICAgXG4gICAgaWYoIHMgIT09IHVuZGVmaW5lZCApe1xuICAgICAgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25bIHMgXTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gIH0sICBcbn07IiwidmFyIENsaWNrYWJsZUNvbnRyb2xsZXIgPSBmdW5jdGlvbiggY29uc3RydWN0b3IgKXtcbiAgICB0aGlzLmNvbnN0cnVjdGVkID0gbmV3IENsaWNrYWJsZUNhdXRpb25zKCBjb25zdHJ1Y3RvciApO1xuICAgIHRoaXMuZXh0ZW5kLmNhbGwoIHRoaXMuY29uc3RydWN0ZWQsIHRoaXMgKSAgO1xuICAgIHRoaXMuY29uc3RydWN0ZWQuaW5pdCggdGhpcy5jb25zdHJ1Y3RlZCApO1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdGVkOyAgXG59O1xuQ2xpY2thYmxlQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XG4gIGV4dGVuZDogZnVuY3Rpb24oIG9iaiApe1xuICAgIGZvciggdmFyIGF0dHIgaW4gb2JqICl7XG4gICAgICBpZiggb2JqLmhhc093blByb3BlcnR5KCBhdHRyICkgPT09IGZhbHNlICl7XG4gICAgICAgIHRoaXNbIGF0dHIgXSA9IG9ialsgYXR0ciBdO1xuICAgICAgfVxuICAgIH1cbiAgfSwgXG4gIGluaXQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLnR5cGUgPSAnaW5pdGlhbCc7XG4gICAgdGhpcy5zZXR1cEV2ZW50cyggKTtcbiAgICB0aGlzLnN0YXJ0U2NyZWVuKCApO1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBzdGFydFNjcmVlbjogZnVuY3Rpb24oICl7XG4gICAgaWYoIHRoaXMubmF2aWdhdGlvbi5zdGFydCApe1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLmdvVG8oIDAgKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZ29UbzogZnVuY3Rpb24oIGluZGV4ICl7XG4gICAgdGhpcy5pbmRleCA9IGluZGV4OyAgICAgIFxuICAgIHRoaXMubWFrZUFsbEluYWN0aXZlKCk7XG4gICAgdGhpcy5tYWtlQWN0aXZlKCk7XG4gIH0sXG4gIHByZXY6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5kZWNyZW1lbnRJbmRleCgpO1xuICAgIHRoaXMubWFrZUFsbEluYWN0aXZlKCk7XG4gICAgdGhpcy5tYWtlQWN0aXZlKCk7XG4gIH0sXG4gIG5leHQ6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5pbmNyZW1lbnRJbmRleCgpOyAgICBcbiAgICB0aGlzLm1ha2VBbGxJbmFjdGl2ZSgpO1xuICAgIHRoaXMubWFrZUFjdGl2ZSgpO1xuICB9LFxuICByZXNldDogZnVuY3Rpb24oKXtcbiAgICB0aGlzLm1ha2VBbGxJbmFjdGl2ZSgpO1xuICAgIHRoaXMuY2xlYXJOYXZpZ2F0aW9uVHlwZSgpO1xuICB9LCAgXG4gIGRlY3JlbWVudEluZGV4OiBmdW5jdGlvbigpe1xuXG4gICAgaWYodGhpcy5pbmRleCAgPiAwKXtcbiAgICAgIHRoaXMuaW5kZXggIC0tO1xuICAgIH1lbHNlIGlmKHRoaXMuaW5maW5pdGUpe1xuICAgICAgdGhpcy5pbmRleCAgPSB0aGlzLnRvdGFsIC0xO1xuICAgIH1cbiAgfSxcbiAgaW5jcmVtZW50SW5kZXg6IGZ1bmN0aW9uKCl7XG4gICAgaWYodGhpcy5pbmRleCAgPCB0aGlzLnRvdGFsIC0xKXtcbiAgICAgIHRoaXMuaW5kZXggICsrOyAgICAgIFxuICAgIH0gZWxzZSBpZih0aGlzLmluZmluaXRlKSB7XG4gICAgICB0aGlzLmluZGV4ICA9IDA7XG4gICAgfVxuICB9LFxuICBzZXR1cEV2ZW50czogZnVuY3Rpb24gc2V0dXBFdmVudHMoaSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAkKHRoaXMuZ2V0KCduYXZpZ2F0aW9uJywgJ3ByZXYnKSkuY2xpY2soZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbGYuY2FsbFByZWNsaWNrRnVuY3MoICdwcmV2JyApO1xuICAgICAgc2VsZi5wcmV2KCk7XG4gICAgICBzZWxmLnNldE5hdmlnYXRpb25UeXBlKCAnbGluZWFyJyApO1xuICAgIH0pO1xuICAgICQodGhpcy5nZXQoJ25hdmlnYXRpb24nLCAnbmV4dCcpKS5jbGljayhmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgc2VsZi5jYWxsUHJlY2xpY2tGdW5jcyggJ25leHQnICk7ICAgICBcbiAgICAgIHNlbGYubmV4dCgpO1xuICAgICAgc2VsZi5zZXROYXZpZ2F0aW9uVHlwZSggJ2xpbmVhcicgKTtcbiAgICB9KTtcbiAgICAkKHRoaXMuZ2V0KCduYXZpZ2F0aW9uJywgJ2NsZWFyJykpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7ICAgICAgXG4gICAgICBzZWxmLmNhbGxQcmVjbGlja0Z1bmNzKCAnY2xlYXInICk7XG4gICAgICBzZWxmLnJlc2V0KCk7XG4gICAgICBzZWxmLnNldE5hdmlnYXRpb25UeXBlKCAnaW5pdGlhbCcgKTtcbiAgICB9KTtcbiAgICAkKHRoaXMuZ2V0KCduYXZpZ2F0aW9uJywgJ3N0YXJ0JykpLmNsaWNrKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBzZWxmLmNhbGxQcmVjbGlja0Z1bmNzKCAnc3RhcnQnICk7XG4gICAgICBzZWxmLmdvVG8oIDApO1xuICAgICAgc2VsZi5zZXROYXZpZ2F0aW9uVHlwZSggJ2xpbmVhcicgKTtcbiAgICB9KTtcbiAgICAkKHRoaXMuZ2V0KCduYXZpZ2F0aW9uJywgJ3RhcmdldHMnKSkuY2xpY2soZnVuY3Rpb24gKGUpIHsgICAgICBcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHNlbGYuY2FsbFByZWNsaWNrRnVuY3MoICd0YXJnZXRzJyApO1xuICAgICAgc2VsZi5nb1RvKCBzZWxmLmdldCgnbmF2aWdhdGlvbicsICd0YXJnZXRzJykuaW5kZXgodGhpcykgKTtcbiAgICAgIHNlbGYuc2V0TmF2aWdhdGlvblR5cGUoICd0YXJnZXR0ZWQnKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaTtcbiAgfSxcbiAgY2FsbFByZWNsaWNrRnVuY3M6IGZ1bmN0aW9uIGNhbGxQcmVjbGlja0Z1bmNzKCBuYXZUeXBlICl7XG4gICAgdmFyIGJ1ZmZlciA9IHRoaXMuZ2V0KCduYXZpZ2F0aW9uJywgbmF2VHlwZSApLnByZWNsaWNrO1xuICAgIGZvcihsZXQgZnVuYyBpbiBidWZmZXIgKXtcbiAgICAgIGJ1ZmZlcltmdW5jXSgpO1xuICAgIH0gIFxuICB9LFxuICBzZXROYXZpZ2F0aW9uVHlwZTogZnVuY3Rpb24odHlwZSl7XG4gICAgdGhpcy5jbGVhck5hdmlnYXRpb25UeXBlKCk7XG4gICAgdGhpcy5uYXZpZ2F0aW9uLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuYWRkQ2xhc3NTVkcodGhpcy5pbnRlcmFjdGlvbiwgdGhpcy5uYXZpZ2F0aW9uLnR5cGUpO1xuICAgIGlmKHR5cGUgIT09ICdzdGFydCcpe1xuICAgICAgdGhpcy5hZGRDbGFzc1NWRyh0aGlzLmludGVyYWN0aW9uLCAnbmF2aWdhdGVkJyk7XG4gICAgfVxuXG4gIH0sXG4gIGNsZWFyTmF2aWdhdGlvblR5cGU6IGZ1bmN0aW9uKCl7XG4gICAgdGhpcy5yZW1vdmVDbGFzc1NWRyh0aGlzLmludGVyYWN0aW9uLCB0aGlzLm5hdmlnYXRpb24udHlwZSk7XG4gICAgdGhpcy5yZW1vdmVDbGFzc1NWRyh0aGlzLmludGVyYWN0aW9uLCAnbmF2aWdhdGVkJyk7XG4gIH0sXG4gIG1ha2VBY3RpdmU6IGZ1bmN0aW9uKCl7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCxcbiAgICAgICAgYXJlYXMgPSB0aGlzLmdldCggJ2NvbnRlbnRBcmVhcycgKSxcbiAgICAgICAgaW5kaWNhdG9ycyA9IHRoaXMuZ2V0KCAnaW5kaWNhdG9ycycgKSxcbiAgICAgICAgY291bnQxID0gYXJlYXMubGVuZ3RoIHx8IDAsXG4gICAgICAgIGNvdW50MiA9IGluZGljYXRvcnMubGVuZ3RoIHx8IDA7XG5cbiAgICBpZiggIXRoaXMuaXNUb2dnbGUgfHwgYXJlYXMuYWN0aXZlICE9PSBpbmRleCApe1xuICAgICAgdGhpcy5hZGRJbnRlcmFjdGlvbkFjdGl2ZUNsYXNzKCk7ICAgICAgXG4gICAgICBpZiggYXJlYXMubGVuZ3RoID4gMCApIHsgXG4gICAgICAgIHRoaXMuYWRkQ2xhc3NTVkcoIGFyZWFzWyBpbmRleCBdLCAnYWN0aXZlJyApO1xuICAgICAgICBhcmVhcy5hY3RpdmUgPSBpbmRleCA7ICAgICAgICBcbiAgICAgIH1cbiAgICAgIGlmKCBpbmRpY2F0b3JzLmxlbmd0aCA+IDAgKXsgXG4gICAgICAgIHRoaXMucmVtb3ZlQ2xhc3NTVkcoIGluZGljYXRvcnNbIGluZGV4IF0sICd2aXNpdGVkJyApO1xuICAgICAgICB0aGlzLmFkZENsYXNzU1ZHKCBpbmRpY2F0b3JzWyBpbmRleCBdLCAnYWN0aXZlJyApO1xuICAgICAgfVxuICAgICAgaWYoIGNvdW50MSArIGNvdW50MiA8IDEgKXtcbiAgICAgICAgdGhpcy53YXJuaW5ncy5wdXNoKCdubyBjb250ZW50IHRvIGFjdGl2YXRlJyk7XG4gICAgICAgIHRoaXMud2FybigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhcmVhcy5hY3RpdmUgPSBmYWxzZTtcbiAgfSxcbiAgbWFrZUFsbEluYWN0aXZlOiBmdW5jdGlvbigpe1xuICAgIHZhciBhcmVhcyA9IHRoaXMuZ2V0KCAnY29udGVudEFyZWFzJyApLFxuICAgICAgICBpbmRpY2F0b3JzID0gdGhpcy5nZXQoICdpbmRpY2F0b3JzJyApO1xuICAgIGlmKCBhcmVhcy5sZW5ndGggKXtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3NTVkcoIGFyZWFzLCAnYWN0aXZlJyApO1xuICAgIH1cbiAgICBpZiggaW5kaWNhdG9ycy5sZW5ndGggKXtcbiAgICAgIHRoaXMubWFrZUluZGljYXRvclZpc2l0ZWQoKTsgICBcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3NTVkcoIGluZGljYXRvcnMsICdhY3RpdmUnICk7XG4gICAgfVxuICAgIHRoaXMucmVtb3ZlSW50ZXJhY3Rpb25BY3RpdmVDbGFzcygpO1xuICB9LFxuICBhZGRJbnRlcmFjdGlvbkFjdGl2ZUNsYXNzOiBmdW5jdGlvbigpe1xuICAgIHRoaXMuYWRkQ2xhc3NTVkcoIHRoaXMuaW50ZXJhY3Rpb24sICdhY3RpdmUtJyArIHRoaXMucHJpbnRJbmRleCApO1xuICB9LFxuICByZW1vdmVJbnRlcmFjdGlvbkFjdGl2ZUNsYXNzOiBmdW5jdGlvbigpe1xuICAgIGZvcih2YXIgaSA9IDA7IGk8IHRoaXMudG90YWw7IGkrKyl7XG4gICAgICB0aGlzLnJlbW92ZUNsYXNzU1ZHKHRoaXMuaW50ZXJhY3Rpb24sICdhY3RpdmUtJysgdGhpcy5wcmludEluZGV4ICk7XG4gICAgfVxuICB9LFxuICBtYWtlSW5kaWNhdG9yVmlzaXRlZDogZnVuY3Rpb24oKXtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgJCggdGhpcy5nZXQoICdpbmRpY2F0b3JzJyApICkuZWFjaChmdW5jdGlvbigpe1xuICAgICAgaWYoJCh0aGlzKS5hdHRyKCdjbGFzcycpLmluZGV4T2YoJ2FjdGl2ZScpID4gMCApIHtcbiAgICAgICAgc2VsZi5hZGRDbGFzc1NWRyh0aGlzLCAndmlzaXRlZCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBhZGRDbGFzc1NWRzogZnVuY3Rpb24oZWxlbSwgbmV3Q2xhc3Mpe1xuICAgIGlmKGVsZW0ubGVuZ3RoID4gMCl7XG4gICAgICB0aGlzLmFkZE11bHRpcGxlQ2xhc3NlcyhlbGVtLCBuZXdDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkU2luZ3VsYXJDbGFzcyhlbGVtLCBuZXdDbGFzcyk7XG4gICAgfVxuICB9LFxuICBhZGRTaW5ndWxhckNsYXNzOiBmdW5jdGlvbihlbGVtLCBuZXdDbGFzcyl7XG4gICAgaWYoIGVsZW0gPT09IHVuZGVmaW5lZCApeyByZXR1cm47IH0gICAgXG4gICAgdmFyIHRlbXBDbGFzcyA9ICQoZWxlbSkuYXR0cignY2xhc3MnKTtcbiAgICAkKGVsZW0pLmF0dHIoJ2NsYXNzJywgdGVtcENsYXNzICsgJyAnICtuZXdDbGFzcyk7XG4gIH0sXG4gIGFkZE11bHRpcGxlQ2xhc3NlczogZnVuY3Rpb24oZWxlbXMsIG5ld0NsYXNzKXtcbiAgICB2YXIgdGVtcENsYXNzO1xuICAgIGZvcih2YXIgaSA9IDA7IGk8IGVsZW1zLmxlbmd0aDsgaSsrKXtcbiAgICAgIHRlbXBDbGFzcyA9ICQoZWxlbXNbaV0pLmF0dHIoJ2NsYXNzJyk7XG4gICAgICAkKGVsZW1zW2ldKS5hdHRyKCdjbGFzcycsIHRlbXBDbGFzcyArICcgJyArbmV3Q2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlQ2xhc3NTVkc6IGZ1bmN0aW9uKGVsZW0sIHJlbW92ZWRDbGFzcyl7XG4gICAgaWYoZWxlbS5sZW5ndGggPiAwKXtcbiAgICAgIHRoaXMucmVtb3ZlTXVsdGlwbGVDbGFzc2VzKGVsZW0sIHJlbW92ZWRDbGFzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucmVtb3ZlU2luZ3VsYXJDbGFzcyhlbGVtLCByZW1vdmVkQ2xhc3MpO1xuICAgIH1cbiAgfSxcbiAgcmVtb3ZlU2luZ3VsYXJDbGFzczogZnVuY3Rpb24oZWxlbSwgcmVtb3ZlZENsYXNzKXtcbiAgICB2YXIgdGVtcENsYXNzID0gJChlbGVtKS5hdHRyKCdjbGFzcycpO1xuICAgIHZhciBuZXdDbGFzcyAgPSB0ZW1wQ2xhc3MucmVwbGFjZSgnICcrcmVtb3ZlZENsYXNzLCAnJyk7XG4gICAgJChlbGVtKS5hdHRyKCdjbGFzcycsIG5ld0NsYXNzKTtcbiAgfSxcbiAgcmVtb3ZlTXVsdGlwbGVDbGFzc2VzOiBmdW5jdGlvbihlbGVtcywgcmVtb3ZlZENsYXNzKXtcbiAgICB2YXIgdGVtcENsYXNzLCBuZXdDbGFzcztcbiAgICBmb3IodmFyIGkgPSAwOyBpPCBlbGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICB0ZW1wQ2xhc3MgPSAkKGVsZW1zW2ldKS5hdHRyKCdjbGFzcycpO1xuICAgICAgbmV3Q2xhc3MgID0gdGVtcENsYXNzLnJlcGxhY2UoJyAnK3JlbW92ZWRDbGFzcywgJycpO1xuICAgICAgJChlbGVtc1tpXSkuYXR0cignY2xhc3MnLCBuZXdDbGFzcyk7XG4gICAgfVxuICB9LCAgXG59OyIsInZhciBDbGlja2FibGVDb250ZXh0ID0gZnVuY3Rpb24oIGNvbnN0cnVjdGVkICl7XG4gIHRoaXMuY29uc3RydWN0ZWQgPSBuZXcgQ2xpY2thYmxlQ2F1dGlvbnMoIGNvbnN0cnVjdGVkICk7XG4gIHRoaXMuY29uc3RydWN0ZWQgPSB0aGlzLmluaXQoIHRoaXMuY29uc3RydWN0ZWQgKTtcbiAgaWYoIHRoaXMuY29uc3RydWN0ZWQuY29udGV4dCApe1xuICAgIHRoaXMuY29uc3RydWN0ZWQgPSB0aGlzLnNvcnRDb2xsZWN0aW9ucyggdGhpcy5jb25zdHJ1Y3RlZCApO1xuICAgIHRoaXMuY29uc3RydWN0ZWQgPSB0aGlzLm92ZXJyaWRlRGVmYXVsdHMoIHRoaXMuY29uc3RydWN0ZWQgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzLmNvbnN0cnVjdGVkO1xufTtcblxuQ2xpY2thYmxlQ29udGV4dC5wcm90b3R5cGUgPSB7XG4gIGluaXQ6IGZ1bmN0aW9uIGluaXQoIGkgKXtcbiAgICBpID0gdGhpcy5zZXRJbml0aWFsRGF0YSggaSApO1xuICAgIGkgPSB0aGlzLnNldFRvdGFsRGF0YSggaSApO1xuICAgIGkgPSB0aGlzLnNldEluZGV4RGF0YSggaSApO1xuICAgIHJldHVybiBpO1xuICB9LFxuICBvdmVycmlkZURlZmF1bHRzOiBmdW5jdGlvbiBvdmVycmlkZURlZmF1bHRzKCBpICl7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KCBpLCAnaW5kZXgnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleFsgdGhpcy5jb250ZXh0IF07XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiggdmFsICl7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleFsgdGhpcy5jb250ZXh0IF0gPSB2YWw7XG4gICAgICB9XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KCBpLCAncHJpbnRJbmRleCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dCArICctJyArIHRoaXMuaW5kZXg7XG4gICAgICB9XG4gICAgfSk7ICBcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoIGksICd0b3RhbCcsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsWyB0aGlzLmNvbnRleHQgXTtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKCB2YWwgKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvdGFsWyB0aGlzLmNvbnRleHQgXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9KTsgICAgXG4gICAgaS5nZXQgPSB0aGlzLmdldENvbnRleHREZXB0aDtcbiAgICByZXR1cm4gaTsgIFxuICB9LFxuICBzZXRJbml0aWFsRGF0YTogZnVuY3Rpb24gc2V0SW5pdGlhbGRhdGEoIGkgKXtcbiAgICBpLmNvbnRleHQgPSBmYWxzZTtcbiAgICByZXR1cm4gaTtcbiAgfSxcbiAgZmluZENvbnRleHRDb3VudDogZnVuY3Rpb24gZmluZENvbnRleHRDb3VudCggZWwgKXtcbiAgICB2YXIgaW5kaWNlcyA9IHt9LCBzZWxmID0gdGhpcztcbiAgICAkKCBlbCApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgYyA9ICQodGhpcykuZGF0YSgnY29udGV4dCcpO1xuICAgICAgaW5kaWNlcyA9IHNlbGYuYWRkVG9PckluaXQoIGluZGljZXMsIGMgKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5kaWNlcztcbiAgfSxcbiAgc2V0VG90YWxEYXRhOiBmdW5jdGlvbiBzZXRUb3RhbERhdGEoIGkgKXtcbiAgICB2YXIgY29udGV4dHMgPSB0aGlzLmZpbmRDb250ZXh0Q291bnQoIGkuY29udGVudEFyZWFzICk7XG4gICAgZm9yKCB2YXIgY29udGV4dCBpbiBjb250ZXh0cyApe1xuICAgICAgaWYoIGNvbnRleHQgIT09ICdjb250ZXh0X2RlZmF1bHQnICl7XG4gICAgICAgIGkuY29udGV4dCA9ICdjb250ZXh0X2RlZmF1bHQnO1xuICAgICAgICBpLl90b3RhbCA9IGNvbnRleHRzO1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGk7XG4gIH0sXG4gIHNldEluZGV4RGF0YTogZnVuY3Rpb24gc2V0SW5kZXhEYXRhKCBpICl7XG4gICAgaWYoICFpLmNvbnRleHQgKXtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBpLl9pbmRleCA9IHt9O1xuICAgIGZvciggdmFyIGNvbnRleHQgaW4gaS50b3RhbCApe1xuICAgICAgaS5faW5kZXhbIGNvbnRleHQgXSA9IDA7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9LFxuICBhZGRUb09ySW5pdDogZnVuY3Rpb24gYWRkVG9PckluaXQoIG9iaiwgcHJvcCApe1xuICAgIHZhciBwcm9wZXJ0eSA9IHByb3AgfHwgJ2RlZmF1bHQnO1xuICAgIHZhciBrZXkgPSAnY29udGV4dF8nICsgcHJvcGVydHk7XG4gICAgaWYoIG9iai5oYXNPd25Qcm9wZXJ0eSgga2V5ICkgKXtcbiAgICAgIG9ialsga2V5IF0gKz0gMTtcbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIG9ialsga2V5IF0gPSAwO1xuICAgIHJldHVybiBvYmo7XG4gIH0sXG4gIHNvcnRDb2xsZWN0aW9uczogZnVuY3Rpb24gc29ydENvbGxlY3Rpb25zKCBpICl7XG4gICAgaS5jb250ZW50QXJlYXMgPSB0aGlzLmNvbnRleHRTb3J0KCBpLCAnY29udGVudEFyZWFzJyApOyAgXG4gICAgaS5pbmRpY2F0b3JzID0gdGhpcy5jb250ZXh0U29ydCggaSwgJ2luZGljYXRvcnMnICk7XG4gICAgaS5uYXZpZ2F0aW9uLnRhcmdldHMgPSB0aGlzLmNvbnRleHRTb3J0KCBpLCAnbmF2aWdhdGlvbicsICd0YXJnZXRzJyApO1xuICAgIGkubmF2aWdhdGlvbi5wcmV2ID0gdGhpcy5jb250ZXh0U29ydCggaSwgJ25hdmlnYXRpb24nLCAncHJldicgKTsgICAgXG4gICAgaS5uYXZpZ2F0aW9uLm5leHQgPSB0aGlzLmNvbnRleHRTb3J0KCBpLCAnbmF2aWdhdGlvbicsICduZXh0JyApO1xuICAgIHRoaXMud2FybkFib3V0TmF2aWdhdGlvbiggaSApO1xuICAgIHJldHVybiBpO1xuICB9LFxuICBjb250ZXh0U29ydDogZnVuY3Rpb24gY29udGV4dFNvcnQoIGksIGNvbGxlY3Rpb24sIHN1YiApe1xuICAgIHZhciBhbGwgPSBpLmdldCggY29sbGVjdGlvbiwgc3ViICksXG4gICAgICAgIHNlbGYgPSB0aGlzLCBcbiAgICAgICAgb25jbGljaztcbiAgICBpZiggYWxsICl7IG9uY2xpY2sgPSBhbGwucHJlY2xpY2s7IH1cblxuICAgICQoYWxsKS5maWx0ZXIoIGZ1bmN0aW9uKCl7XG5cbiAgICAgIGFsbCA9ICQoYWxsKS5ub3QoICQodGhpcykgKTsgICAgICAgIFxuICAgICAgcmV0dXJuICQodGhpcyk7XG5cbiAgICB9ICkuZWFjaCggZnVuY3Rpb24oKXtcblxuICAgICAgdmFyIGMgPSBzZWxmLnNldENvbnRleHRLZXkoICQodGhpcykgKTtcbiAgICAgIGlmKCBhbGxbY10gPT09IHVuZGVmaW5lZCApe1xuICAgICAgICBhbGxbY10gPSAkKCk7XG4gICAgICB9XG4gICAgICBhbGxbY10gPSAkKGFsbFtjXSkuYWRkKCAkKHRoaXMpICk7XG4gICAgfSk7XG4gICAgaWYoIG9uY2xpY2sgKXsgYWxsLnByZWNsaWNrID0gb25jbGljaztcbiAgICAgICAgICAgICAgICAgICBhbGwucHJlY2xpY2sucHVzaChzZWxmLnBhcnNlQ29udGV4dCApOyB9XG4gICAgcmV0dXJuIGFsbDtcbiAgfSxcbiAgd2FybkFib3V0TmF2aWdhdGlvbjogZnVuY3Rpb24gd2FybkFib3V0TmF2aWdhdGlvbiggaSApe1xuICAgIGZvciggdmFyIGtleSBpbiBpLmluZGV4ICl7XG4gICAgICBpZiggaS5uYXZpZ2F0aW9uLnRhcmdldHNbIGtleSBdID09PSB1bmRlZmluZWQgJiYgXG4gICAgICAgIGkubmF2aWdhdGlvbi5wcmV2WyBrZXkgXSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgIGkubmF2aWdhdGlvbi5uZXh0WyBrZXkgXSA9PT0gdW5kZWZpbmVkICl7XG4gICAgICAgIGkud2FybmluZ3MucHVzaChgdGhlcmUgaXMgbm8gbmF2Z2F0aW9uIGZvciB0aGUgY29udGV4dCAke2tleX1gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaS53YXJuKCk7XG4gIH0sXG4gIHBhcnNlQ29udGV4dDogZnVuY3Rpb24gcGFyc2VDb250ZXh0KCBlbCApe1xuICAgIGlmKCBlbCAhPT0gdW5kZWZpbmVkICYmICQoIGVsICkuZGF0YSgnY29udGV4dCcpICl7XG4gICAgICB0aGlzLmNvbnRleHQgPSAnY29udGV4dF8nICsgJCggZWwgKS5kYXRhKCAnY29udGV4dCcgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5jb250ZXh0ID0gJ2NvbnRleHRfZGVmYXVsdCc7XG4gIH0sICBcbiAgZ2V0Q29udGV4dERlcHRoOiBmdW5jdGlvbiBnZXRDb250ZXh0RGVwdGgoIGMsIHMgKXtcbiAgICB2YXIgY29sbGVjdGlvbiA9IHRoaXNbIGMgXVsgdGhpcy5jb250ZXh0IF07XG4gICAgaWYoIHRoaXNbY11bdGhpcy5jb250ZXh0XSA9PT0gdW5kZWZpbmVkKXtcbiAgICAgIGNvbGxlY3Rpb24gPSB0aGlzW2NdO1xuICAgICAgaWYoY29sbGVjdGlvbiA9PT0gZmFsc2Upe1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfSAgIFxuICAgIGlmKCBzICE9PSB1bmRlZmluZWQgKXtcbiAgICAgIGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uWyBzIF07XG4gICAgfVxuICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICB9LCAgXG4gIHNldENvbnRleHRLZXk6IGZ1bmN0aW9uIHNldENvbnRleHRLZXkoIGVsICl7XG4gICAgdmFyIGN0eCA9IGVsLmRhdGEoICdjb250ZXh0JyApIHx8ICdkZWZhdWx0JztcbiAgICByZXR1cm4gJ2NvbnRleHRfJyArIGN0eDtcbiAgfSBcbn07IiwiKGZ1bmN0aW9uKCBnbG9iYWwsIGZhY3RvcnkgKSB7XG5cblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlLmV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZ2xvYmFsLmRvY3VtZW50ID9cblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcblx0XHRcdGZ1bmN0aW9uKCB3ICkge1xuXHRcdFx0XHRpZiAoICF3LmRvY3VtZW50ICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggJ3JlcXVpcmVzIGEgd2luZG93IHdpdGggYSBkb2N1bWVudCcgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gZmFjdG9yeSggdyApO1xuXHRcdFx0fTtcblx0fSBlbHNlIHtcblx0XHRmYWN0b3J5KCBnbG9iYWwgKTtcblx0fVxuXG5cdC8vIFBhc3MgdGhpcyBpZiB3aW5kb3cgaXMgbm90IGRlZmluZWQgeWV0XG59KHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XG5cdHZhciBDbGlja2FibGUgPSBmdW5jdGlvbiggYXJncyApe1xuXHRcdHZhciBjb25zdHJ1Y3RlZCA9IHt9O1xuXHQgIGNvbnN0cnVjdGVkID0gbmV3IENsaWNrYWJsZUNvbnN0cnVjdG9yKCBhcmdzICk7XG5cdCAgY29uc3RydWN0ZWQgPSBuZXcgQ2xpY2thYmxlQ29udGV4dCggY29uc3RydWN0ZWQgKTtcblx0ICBjb25zdHJ1Y3RlZCA9IG5ldyBDbGlja2FibGVDb250cm9sbGVyKCBjb25zdHJ1Y3RlZCApOyBcblx0ICByZXR1cm4gY29uc3RydWN0ZWQ7XG5cdH07XG5cdGlmICggdHlwZW9mIG5vR2xvYmFsID09PSAndW5kZWZpbmVkJyApIHtcblx0XHR3aW5kb3cuQ2xpY2thYmxlID0gQ2xpY2thYmxlO1xuXHR9XG5cblx0cmV0dXJuIENsaWNrYWJsZTtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9